---
import { ChevronDownIcon } from "@heroicons/vue/24/solid";
import Navigation from "../components/Navigation.vue";
import Discography from "../components/Discography.vue";
import Playlists from "../components/Playlists.astro";
import Youtube from "../components/Youtube.astro";
import Contact from "../components/Contact.vue";
import Layout from "../layouts/Layout.astro";
import Footer from "../components/Footer.astro";
import About from "../components/About.astro";
import LatestNews from "../components/LatestNews.astro";
---

<Layout title="Logic Moon">
  <Navigation client:visible />
  <main>
    <!-- Hero -->
    <section
      class="h-screen w-full bg-cover bg-center bg-no-repeat flex flex-col items-center justify-center text-center md:bg-fixed hero-bg">
      <h1 class="cinzel hero logic-moon-title">
        <span class="word" data-word="logic">Logic</span>
        <span class="word" data-word="moon">Moon</span>
      </h1>

      <h2 class="hero my-12" data-aos="fade-up" data-aos-delay="500">music</h2>
      <div class="mt-24" data-aos="fade-down" data-aos-delay="800">
        <a href="#about" class="scroller" title="scrolldown" aria-label="about">
          <ChevronDownIcon
            class="w-12 text-secondary-600 -ml-2 md:ml-6"
          />
        </a>
      </div>
    </section>

    <LatestNews />
    <About />

    <Discography client:load />

    <Playlists />
    <Youtube />
    <Contact client:load />
    <Footer />
  </main>

  <style>
    .logic-moon-title {
      opacity: 0;
      animation: titleReveal 0.5s ease-out 1s forwards;
    }

    .logic-moon-title .word {
      display: inline-block;
      position: relative;
      overflow: hidden;
    }

    .logic-moon-title .word::before {
      content: attr(data-word);
      position: absolute;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      color: #5f5f5f;
      text-shadow: 0 0 8px #5f5f5f;
      clip-path: inset(0 100% 0 0);
      animation: textReveal 2.5s ease-in-out forwards;
    }

    .logic-moon-title .word[data-word="logic"]::before {
      animation-delay: 1.3s;
    }

    .logic-moon-title .word[data-word="moon"]::before {
      animation-delay: 1.8s;
    }

    @keyframes titleReveal {
      to {
        opacity: 1;
      }
    }

    @keyframes textReveal {
      0% {
        clip-path: inset(100% 0 0 0);
      }
      100% {
        clip-path: inset(0 0 0 0);
      }
    }

    .logic-moon-title .word {
      animation: textFinalize 0.4s ease-out 4s forwards;
    }

    @keyframes textFinalize {
      to {
        color: #ffffff;
      }
    }
  </style>

  <script>
    function initTextAnimation() {
      const title = document.querySelector(".logic-moon-title");
      if (!title) return;
    }

    document.addEventListener("DOMContentLoaded", initTextAnimation);
    document.addEventListener("astro:page-load", initTextAnimation);
  </script>
</Layout>
